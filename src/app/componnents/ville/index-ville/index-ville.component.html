<div class="container-fluid">
  <h1 class="mt-4">Liste des Villes</h1>

  <!--                Main Body-->
  <div class="row">
    <div class="col-xl-12">
      <div class="card mb-4">
        <form class="form-horizontal" [formGroup]="villeForm" (ngSubmit)="onSubmit()">
          <div class="card-header">
            <h2>Créer une nouvelle ville</h2>
          </div>
          <div class="card-body">
            <fieldset>
              <div class="table-responsive">
                <table class="table  table-hover table-condensed" id="myTable">
                  <tbody>
                    <tr>
                      <td>
                        <span class="help-block small-font">PAYS</span>
                        <div class="col">
                          <select id="country" formControlName="country_id" style="width:75%;
                                                                  border-top: 0; border-left: 0;
                                                                  border-right: 0;
                                                                  background: transparent;" required="">
                            <option value="" selected="">Sélectionner un pays</option>
                            <option *ngFor="let country of pays" [value]="country.id">{{ country.name }}</option>


                          </select>
                          <div *ngIf="villeForm.get('country_id')?.invalid && villeForm.get('country_id')?.touched" class="text-danger">
                            Le pays est requis.
                          </div>

                        </div>
                      </td>

                      <td>
                        <span class="help-block small-font">NOM DE LA VILLE</span>
                        <div class="col">
                          <input id="name" formControlName="name" style="width:75%;border-top: 0; border-left: 0;
                                                                  border-right: 0;
                                                                  background: transparent;" required="">
                           <div *ngIf="villeForm.get('name')?.invalid && villeForm.get('name')?.touched" class="text-danger">
                            Le nom de la ville est requis.
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </fieldset>
          </div>
          <div class="card-footer">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups" style="float: right;">
              <div class="btn-group mr-2" role="group" aria-label="First group">
                <button type="submit"  class="btn" [disabled]="villeForm.invalid"
                  style="background-color: #28a745; color: white;">Enregistrer</button>
              </div>
              <div class="btn-group mr-2" role="group" aria-label="Second group">
                <!--                                                                <a href="liste_personnels.php" class="btn btn-primary" style="float: right; padding-top: 10px; padding-bottom: 10px; margin-right: 20px"><i class="fas fa-angle-double-down"></i> Annuler</a>-->
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <hr>
    </div>
  </div>

  <div class="row">
    <div class="col-xl-12">
      <div class="card mb-4">
        <div class="card-header">
          <svg class="svg-inline--fa fa-scroll fa-w-20  custom-icon" aria-hidden="true" focusable="false"
            data-prefix="fas" data-icon="scroll" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"
            data-fa-i2svg="">
            <path fill="currentColor"
              d="M48 0C21.53 0 0 21.53 0 48v64c0 8.84 7.16 16 16 16h80V48C96 21.53 74.47 0 48 0zm208 412.57V352h288V96c0-52.94-43.06-96-96-96H111.59C121.74 13.41 128 29.92 128 48v368c0 38.87 34.65 69.65 74.75 63.12C234.22 474 256 444.46 256 412.57zM288 384v32c0 52.93-43.06 96-96 96h336c61.86 0 112-50.14 112-112 0-8.84-7.16-16-16-16H288z">
            </path>
          </svg><!-- <i class="fas fa-scroll"></i> Font Awesome fontawesome.com -->
          <b>Liste des villes</b>
        </div>
        <div class="card-body">
          <div class="well bs-component">
            <form class="form-horizontal">
              <fieldset>
                <div class="table-responsive">

                  <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">
                    <div class="row">
                      <div class="col-sm-12 col-md-6">
                        <div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length"
                              aria-controls="dataTable"
                              class="custom-select custom-select-sm form-control form-control-sm">
                              <option value="10">10</option>
                              <option value="25">25</option>
                              <option value="50">50</option>
                              <option value="100">100</option>
                            </select> entries</label></div>
                      </div>
                      <div class="col-sm-12 col-md-6">
                        <div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search"
                              class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0"
                          role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                          <thead>
                            <tr class="bg-primary" role="row">
                              <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"
                                aria-sort="ascending" aria-label="NOM DE LA VILLE: activate to sort column descending"
                                style="width: 219px;">
                                <p align="center">NOM DE LA VILLE</p>
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"
                                aria-label="PAYS: activate to sort column ascending" style="width: 119px;">
                                <p align="center">PAYS</p>
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"
                                aria-label="Options: activate to sort column ascending" style="width: 109px;">
                                <p align="center">Options</p>
                              </th>
                            </tr>
                          </thead>
                          <tbody >
                            <tr role="row" class="odd" *ngFor="let ville of villes">
                              <td align="center">{{ ville.name }}</td>
                              <td align="center">{{ getCountryName(ville.country_id) }}</td>

                              <td class="project-actions text-center" (click)="deleteVille(ville.id)">

                                <a class="btn btn-danger btn-sm">
                                  <!-- (click)="deletePost(projet.id)" -->

                                  <i class="fa-solid fa-trash">
                                  </i>
                                </a>
                              </td>
                            </tr>

                          </tbody>
                          <tfoot>
                            <tr class="bg-primary">
                              <th rowspan="1" colspan="1">
                                <p align="center">NOM DE LA VILLE</p>
                              </th>
                              <th rowspan="1" colspan="1">
                                <p align="center">PAYS</p>
                              </th>
                              <th rowspan="1" colspan="1">
                                <p align="center">Options</p>
                              </th>
                            </tr>
                          </tfoot>
                          <tbody></tbody>
                        </table>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-md-5">
                        <div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to
                          10 of 27 entries</div>
                      </div>
                      <div class="col-sm-12 col-md-7">
                        <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate">
                          <ul class="pagination">
                            <li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#"
                                aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a>
                            </li>
                            <li class="paginate_button page-item active"><a href="#" aria-controls="dataTable"
                                data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                            <li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2"
                                tabindex="0" class="page-link">2</a></li>
                            <li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3"
                                tabindex="0" class="page-link">3</a></li>
                            <li class="paginate_button page-item next" id="dataTable_next"><a href="#"
                                aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">Next</a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </fieldset>
            </form>

          </div>
        </div>
        <div class="card-footer">

        </div>
      </div>
    </div>
  </div>

</div>
